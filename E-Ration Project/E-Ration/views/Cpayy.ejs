<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="/css/pay.css" /> 

	    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
	    <!-- jQuery library -->
	    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

	    <!-- Popper JS -->
	    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>

	    <!-- Latest compiled JavaScript -->
	    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>

</head>


<body>
	<h2 class = "text-center mb-3">Payment</h2>
	<div class="row">
		<div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12">
			<div class="container">
        <div class="accordion" id="accordionExample">
          <div class="accordion-item">
            <h2 class="accordion-header" id="headingOne">
              <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                Credit/Debit Card Payment
              </button>
            </h2>
            <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
              <div class="accordion-body">
                <form method = "POST" action="/paymentsuccess" onsubmit="return checkdate()">
                  <div class="col-50">
                    <h3>Payment</h3>
                    <label for="fname">Accepted Cards</label>
                    <div><img class="img-responsive ct-card-v" src="image/visa.png"> <img class="img-responsive ct-card-m" src="image/master.png">    <img class="img-responsive ct-card-r" src="image/rupay.png">    <img class="img-responsive ct-card-e" src="image/maestro.jpg"></div>
                    <label for="cname">Name on Card</label>
                    <input type="text" id="cname" name="cardname" placeholder="Enter your name as per card" required maxlength="25">
                    <label for="ccnum">Credit/Debit card number</label>
                    <div class = "text-danger d-none mt-1 mb-2" id = "cardnumerrmsg">16 Digits Required</div>
                    <input class = "mb-2" type="text" id="ccnum" name="cardnumber" placeholder="Enter your card number" required maxlength="16" oninput="checkcardnumber()">
                    
                    <label for="expmonth">Exp Month</label> 
                    <input type="text" id="expmonth" name="expmonth" placeholder="Enter expiry month" required maxlength="10">
                    <div class="row">
                      <div class="col-50">
                        <label for="expyear">Exp Year <div class = "text-danger d-none mt-1 mb-2" id = "expmsg">Card Expired</div></label>
                        
                        <input type="text" id="expyear" name="expyear" placeholder="Enter expiry year" required maxlength="4"> </div>
                      <div class="col-50">
                        <label for="cvv">CVV</label>
                        <input type="text" id="cvv" name="cvv" placeholder="Enter CVV number" required maxlength="3"> </div>
                    </div>
                  </div>
                
              </div>
            </div>
          </div>
          <div class="accordion-item">
            <h2 class="accordion-header" id="headingTwo">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                <p>UPI Payment :</p><img class="img-responsive ct-upi" src="image/gpay.png"><img class="img-responsive ct-upi" src="image/paytm.png">
              </button>
            </h2>
            <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
              <div class="accordion-body">
               
                <div class="form-check" style = "margin-right: 10px;">
                  <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1">
                  <label class="form-check-label" for="flexRadioDefault1">
                    Google Pay
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault2" checked>
                  <label class="form-check-label" for="flexRadioDefault2">
                    Paytm
                  </label>
                </div>
                <button type="button" class="btn btn-primary" onclick="location.href='orderok2.html'">Submit</button>
              </div>
            </div>
          </div>
        </div>


			
			</div>
      <div class="col-25 mt-3">
        <div class="container">
          <p>Total <span class="price" style="color:black"><b>Rs. <%=totalamnt%></b></span></p>
        </div>
      </div>
      <div class="submit-btn">
        <button type="submit" class="btn btn-primary basic-btn" >Submit</button>
      </div>
    </form>
		</div>
	</div>
	
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
  <script>
    function checkcardnumber(){
      if($("#ccnum").val().length == 16){
        $("#cardnumerrmsg").addClass("d-none");
      }
      else{
        $("#cardnumerrmsg").removeClass("d-none");
      }
    }

    function checkdate(){
      var CurrentDate = new Date();
      var SelectedDate = new Date(
        $('#expyear').val(),
        $('#expmonth').val(),
        30
      );

      if(CurrentDate > SelectedDate){
        $("#expmsg").removeClass("d-none");
        $("#expmsg").addClass("d-inline");
        return false;
      }
      else{
        if($("#cardnumerrmsg").is(":visible")){
          return false;
        }
        return true;
      }
    }
  </script>
</body>
</html>